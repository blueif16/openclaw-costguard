{
  "id": "openclaw-costguard",
  "name": "openclaw-costguard",
  "version": "0.2.0",
  "description": "Cost tracking, budget enforcement, anomaly detection, and usage attribution for OpenClaw agents",
  "entrypoint": "./dist/index.js",
  "slots": ["tool"],
  "configSchema": {
    "type": "object",
    "properties": {
      "enabled": { "type": "boolean" },
      "dailyLimitUsd": { "type": "number" },
      "weeklyLimitUsd": { "type": "number" },
      "monthlyLimitUsd": { "type": "number" },
      "warnThreshold": { "type": "number", "default": 0.8 },
      "throttleThreshold": { "type": "number" },
      "throttleFallbackModel": { "type": "string" },
      "budgetAction": { "type": "string", "enum": ["warn", "block"] },
      "scopes": {
        "type": "object",
        "additionalProperties": {
          "type": "object",
          "properties": {
            "dailyLimitUsd": { "type": "number" },
            "weeklyLimitUsd": { "type": "number" },
            "monthlyLimitUsd": { "type": "number" }
          }
        }
      },
      "sentinel": {
        "type": "object",
        "properties": {
          "alertChannel": { "type": "string" },
          "loopDetection": {
            "type": "object",
            "properties": {
              "windowSize": { "type": "number", "default": 10 },
              "repeatThreshold": { "type": "number", "default": 5 },
              "action": { "type": "string", "enum": ["warn", "pause"] }
            }
          },
          "contextSpike": {
            "type": "object",
            "properties": {
              "growthPercent": { "type": "number", "default": 150 },
              "absoluteMin": { "type": "number", "default": 50000 },
              "action": { "type": "string", "enum": ["warn", "pause"] }
            }
          },
          "costVelocity": {
            "type": "object",
            "properties": {
              "windowMinutes": { "type": "number", "default": 5 },
              "multiplier": { "type": "number", "default": 3 },
              "action": { "type": "string", "enum": ["warn", "pause"] }
            }
          },
          "heartbeatDrift": {
            "type": "object",
            "properties": {
              "lookbackRuns": { "type": "number", "default": 10 },
              "driftPercent": { "type": "number", "default": 50 },
              "action": { "type": "string", "enum": ["warn", "pause"] }
            }
          }
        }
      }
    }
  }
}
